{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rashm\\\\Downloads\\\\to-do-list-spring-boot\\\\to-do-list-spring-boot-react-master\\\\frontend\\\\src\\\\components\\\\page\\\\Landing.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Landing({\n  isAuthenticated,\n  setIsAuthenticated\n}) {\n  _s();\n  const [message, setMessage] = useState('');\n  const [numberAllTodoNotCompleted, setNumberAllTodoNotCompleted] = useState(0);\n  const [numberAllTodo, setNumberAllTodo] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n  const showErrorMessage = () => {\n    if (errorMessage === '') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 14\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-danger\",\n      role: \"alert\",\n      children: errorMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 12\n    }, this);\n  };\n  useEffect(() => {\n    async function getAndSetNumberAllTodo() {\n      try {\n        const response = await axios.get('http://localhost:3001/api/todo/count', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n          }\n        });\n        setNumberAllTodo(response.data.count);\n      } catch (error) {\n        setMessage('');\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n    async function getAndSetNumberAllTodoNotCompleted() {\n      try {\n        const response = await axios.get('http://localhost:3001/api/todo/count?isCompleted=false', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`\n          }\n        });\n        setNumberAllTodoNotCompleted(response.data.count);\n      } catch (error) {\n        setMessage('');\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n    if (isAuthenticated) {\n      getAndSetNumberAllTodo();\n      getAndSetNumberAllTodoNotCompleted();\n      setMessage(`Welcome, ${sessionStorage.getItem('name')}. You have ${numberAllTodoNotCompleted} todo not completed out of ${numberAllTodo} todo.`);\n    } else {\n      setMessage('Please sign in to continue');\n    }\n  }, [isAuthenticated, numberAllTodo, numberAllTodoNotCompleted]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"text-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Todo List Application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 4\n    }, this), showErrorMessage(), message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 3\n  }, this);\n}\n_s(Landing, \"AB9WAcuU47RpxwSutaWB2HTBTZk=\");\n_c = Landing;\nvar _c;\n$RefreshReg$(_c, \"Landing\");","map":{"version":3,"names":["axios","React","useEffect","useState","jsxDEV","_jsxDEV","Landing","isAuthenticated","setIsAuthenticated","_s","message","setMessage","numberAllTodoNotCompleted","setNumberAllTodoNotCompleted","numberAllTodo","setNumberAllTodo","errorMessage","setErrorMessage","showErrorMessage","fileName","_jsxFileName","lineNumber","columnNumber","className","role","children","getAndSetNumberAllTodo","response","get","headers","sessionStorage","getItem","data","count","error","getAndSetNumberAllTodoNotCompleted","_c","$RefreshReg$"],"sources":["C:/Users/rashm/Downloads/to-do-list-spring-boot/to-do-list-spring-boot-react-master/frontend/src/components/page/Landing.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\n\nexport default function Landing({isAuthenticated, setIsAuthenticated}) {\n  const [message, setMessage] = useState('')\n  const [numberAllTodoNotCompleted, setNumberAllTodoNotCompleted] = useState(0);\n  const [numberAllTodo, setNumberAllTodo] = useState(0);\n  const [errorMessage, setErrorMessage] = useState('');\n\n  const showErrorMessage = () => {\n    if(errorMessage === ''){\n      return <div></div>\n    }\n\n    return <div className=\"alert alert-danger\" role=\"alert\">\n      {errorMessage}\n    </div>\n  }\n\n  useEffect(() => {\n    async function getAndSetNumberAllTodo() {\n      try{\n        const response = await axios.get('http://localhost:3001/api/todo/count', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`,\n          }\n        });\n        setNumberAllTodo(response.data.count);\n      } catch (error) {\n        setMessage('');\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n    }\n\n    async function getAndSetNumberAllTodoNotCompleted() {\n      try{\n        const response = await axios.get('http://localhost:3001/api/todo/count?isCompleted=false', {\n          headers: {\n            'Authorization': `Bearer ${sessionStorage.getItem('token')}`,\n          }\n        });\n\n        setNumberAllTodoNotCompleted(response.data.count);\n      } catch (error) {\n        setMessage('');\n        if (error.response) {\n          setErrorMessage(error.response.data.message);\n        } else {\n          setErrorMessage('Error: something happened');\n        }\n      }\n      \n    }\n    if(isAuthenticated){\n      getAndSetNumberAllTodo();\n      getAndSetNumberAllTodoNotCompleted();\n      setMessage(`Welcome, ${sessionStorage.getItem('name')}. You have ${numberAllTodoNotCompleted} todo not completed out of ${numberAllTodo} todo.`);\n    } else {\n      setMessage('Please sign in to continue');\n    }\n  }, [isAuthenticated, numberAllTodo, numberAllTodoNotCompleted])\n\n\treturn (\n\t\t<div className=\"text-center\">\n\t\t\t<h1>Todo List Application</h1>\n      {showErrorMessage()}\n\t\t\t{message}\n\t\t</div>\n\t)\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}